import{A as Re,B as Ve,C as z,D as Be,E as je,F as Ae,G as Ue,H as $e,I as ze,a as be,b as H,c as Ie,d as Se,e as xe,f as D,g as Me,h as ye,i as He,j as Pe,k as Ee,l as we,m as Le,n as Fe,o as R,p as V,q as B,r as j,s as Ne,t as A,u as U,v as Oe,w as Te,x as ke,y as De,z as $}from"./chunk-PLFM5O3S.js";import{a as he,g as ve,h as Ce,i as _e,j as k,k as ee}from"./chunk-AFQPOZFT.js";import"./chunk-VE3P4DJE.js";import{Ab as p,B as oe,Cc as b,Dc as T,Ec as de,Fb as r,Gb as o,Gc as ue,Hb as l,Hc as fe,Ic as ge,Jb as S,Mb as h,Ob as x,T as re,Xa as N,Xb as _,Yb as n,Z as ne,Za as a,Zb as pe,_ as F,_b as s,ac as se,bc as Z,ca as ae,cb as C,cc as M,dc as y,ec as le,fc as ce,ja as f,jb as d,ka as g,kb as O,m as ie,mb as me,pb as u}from"./chunk-764YMA4Z.js";var Ye=()=>({width:"250px"});function Ze(t,i){if(t&1){let e=S();r(0,"mat-list-item",8),h("click",function(){f(e),x();let c=_(2);return g(c.toggle())}),r(1,"mat-icon",9),n(2),o(),n(3),o()}if(t&2){let e=i.$implicit;p("routerLink",e.url),a(2),s(" ",e.icon," "),a(),s(" ",e.label," ")}}var q=class t{sidebarItem=[{label:"Listado",icon:"label",url:"./list"},{label:"A\xF1adir",icon:"add",url:"./new-hero"},{label:"Buscar",icon:"search",url:"./search"}];static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["app-layout-page"]],standalone:!1,decls:21,vars:3,consts:[["sidenav",""],["fullscreen",""],["mode","push",3,"ngStyle"],[1,"spacer"],["mat-icon-button","",3,"click"],[3,"routerLink","click",4,"ngFor","ngForOf"],["mat-button",""],[1,"container","p-2"],[3,"click","routerLink"],["matListItemIcon",""]],template:function(e,m){if(e&1){let c=S();r(0,"mat-sidenav-container",1)(1,"mat-sidenav",2,0)(3,"mat-toolbar")(4,"span"),n(5,"Menu"),o(),l(6,"span",3),r(7,"button",4),h("click",function(){f(c);let E=_(2);return g(E.toggle())}),r(8,"mat-icon"),n(9," menu "),o()()(),r(10,"mat-nav-list"),u(11,Ze,4,3,"mat-list-item",5),o()(),r(12,"mat-toolbar")(13,"button",4),h("click",function(){f(c);let E=_(2);return g(E.toggle())}),r(14,"mat-icon"),n(15," menu "),o()(),l(16,"span",3),r(17,"button",6),n(18," Logout "),o()(),r(19,"div",7),l(20,"router-outlet"),o()()}e&2&&(a(),p("ngStyle",se(2,Ye)),a(10),p("ngForOf",m.sidebarItem))},dependencies:[b,de,Ce,k,H,Ie,D,Be,z,Re,Ae,Ue,$e],encapsulation:2})};var L=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["app-new-page"]],standalone:!1,decls:2,vars:0,template:function(e,m){e&1&&(r(0,"p"),n(1,"new-page works!"),o())},encapsulation:2})};var Je={baseURL:""};var I=class t{constructor(i){this.http=i}baseUrl=Je.baseURL;getHeroes(){return this.http.get(`${this.baseUrl}/heroes`)}getHeroById(i){return this.http.get(` ${this.baseUrl}/heroes/${i} `).pipe(oe(e=>ie(void 0)))}getSuggestions(i){return this.http.get(` ${this.baseUrl}/heroes?q=${i}&_limit=6`)}static \u0275fac=function(e){return new(e||t)(ae(he))};static \u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"})};function et(t,i){if(t&1&&(r(0,"mat-option",6),n(1),o()),t&2){let e=i.$implicit;p("value",e),a(),s(" ",e.superhero," ")}}function tt(t,i){if(t&1&&(r(0,"mat-option",7),n(1),o()),t&2){let e=x();a(),s(" No se encontro nada con el termino ",e.searchInput.value," ")}}var J=class t{constructor(i){this.heroesService=i}searchInput=new He("");heroes=[];selectedHero;searchHero(){let i=this.searchInput.value||"";this.heroesService.getSuggestions(i).subscribe(e=>{this.heroes=e,console.log(this.heroes)})}onSelectedOption(i){if(!i.option.value){this.selectedHero=void 0;return}let e=i.option.value;this.searchInput.setValue(e.superhero),this.selectedHero=e}static \u0275fac=function(e){return new(e||t)(C(I))};static \u0275cmp=d({type:t,selectors:[["app-search-page"]],standalone:!1,decls:13,vars:7,consts:[["auto","matAutocomplete"],[1,"flex","flex-column","p-2"],["type","text","matInput","",3,"input","formControl","matAutocomplete"],["autoActiveFirstOption","",3,"optionSelected"],[3,"value",4,"ngFor","ngForOf"],["value","",4,"ngIf"],[3,"value"],["value",""]],template:function(e,m){if(e&1){let c=S();r(0,"div",1)(1,"h3"),n(2,"Buscador"),o(),r(3,"mat-form-field")(4,"mat-label"),n(5,"Buscador de heroes"),o(),r(6,"input",2),h("input",function(){return f(c),g(m.searchHero())}),o(),r(7,"mat-autocomplete",3,0),h("optionSelected",function(E){return f(c),g(m.onSelectedOption(E))}),u(9,et,2,2,"mat-option",4)(10,tt,2,1,"mat-option",5),o()(),n(11),M(12,"json"),o()}if(e&2){let c=_(8);a(6),p("formControl",m.searchInput)("matAutocomplete",c),a(3),p("ngForOf",m.heroes),a(),p("ngIf",m.heroes.length===0&&m.searchInput.value&&m.searchInput.value.length>0),a(),s(" ",y(12,5,m.selectedHero)," ")}},dependencies:[b,T,Le,be,Fe,xe,Se,we,Me,ye,Pe,ue],encapsulation:2})};var P=class t{transform(i){return i.id&&i.alt_img?"assets/no-image.png":i.alt_img?i.alt_img:`assets/heroes/${i.id}.jpg`}static \u0275fac=function(e){return new(e||t)};static \u0275pipe=me({name:"heroImage",type:t,pure:!0,standalone:!1})};var rt=t=>["/heroes/edit",t],nt=t=>["/heroes",t];function at(t,i){if(t&1&&(r(0,"mat-chip"),n(1),o()),t&2){let e=i.$implicit;a(),s(" ",e," ")}}var K=class t{hero;ngOnInit(){if(!this.hero)throw Error("Hero property is required")}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["heroes-hero-card"]],inputs:{hero:"hero"},standalone:!1,decls:29,vars:19,consts:[["mat-card-image","",3,"src","alt"],[1,"mt-2"],[4,"ngFor","ngForOf"],["mat-button","","mat-raised","",3,"routerLink"],[1,"spacer"],["mat-button","",3,"routerLink"]],template:function(e,m){e&1&&(r(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),n(3),o(),r(4,"mat-card-subtitle"),n(5),o()(),l(6,"img",0),M(7,"heroImage"),r(8,"mat-card-content",1)(9,"h4"),n(10),o(),r(11,"p")(12,"strong"),n(13," Primera aparici\xF3n "),o(),n(14),o(),l(15,"br"),r(16,"mat-chip-listbox"),u(17,at,2,1,"mat-chip",2),M(18,"slice"),o()(),l(19,"mat-divider"),r(20,"mat-card-actions")(21,"button",3)(22,"mat-icon"),n(23,"edit"),o(),n(24," Editar "),o(),l(25,"span",4),r(26,"button",5)(27,"mat-icon"),n(28,"more_horiz"),o()()()()),e&2&&(a(3),s(" ",m.hero.superhero," "),a(2),pe(m.hero.alter_ego),a(),p("src",y(7,9,m.hero),N)("alt",m.hero.superhero),a(4),s(" ",m.hero.publisher," "),a(4),s(" ",m.hero.first_appearance," "),a(3),p("ngForOf",le(18,11,m.hero.characters.split(","),0,3)),a(4),p("routerLink",Z(15,rt,m.hero.id)),a(5),p("routerLink",Z(17,nt,m.hero.id)))},dependencies:[b,k,H,R,Ne,B,A,U,j,V,Oe,Te,D,$,fe,P],encapsulation:2})};function pt(t,i){if(t&1&&(r(0,"div",2),l(1,"heroes-hero-card",3),o()),t&2){let e=i.$implicit;a(),p("hero",e)}}var Q=class t{constructor(i){this.heroesService=i}heroes;ngOnInit(){this.heroesService.getHeroes().subscribe(i=>this.heroes=i)}static \u0275fac=function(e){return new(e||t)(C(I))};static \u0275cmp=d({type:t,selectors:[["app-list-page"]],standalone:!1,decls:5,vars:1,consts:[[1,"grid","mb-8","pt-2"],["class","col-12 sm:col-4 md:col-3 xl:col-2",4,"ngFor","ngForOf"],[1,"col-12","sm:col-4","md:col-3","xl:col-2"],[3,"hero"]],template:function(e,m){e&1&&(r(0,"h1"),n(1," Listado de heroes "),o(),l(2,"mat-divider"),r(3,"div",0),u(4,pt,2,1,"div",1),o()),e&2&&(a(4),p("ngForOf",m.heroes))},dependencies:[b,$,K],encapsulation:2})};function st(t,i){t&1&&(r(0,"mat-grid-list",2)(1,"mat-grid-tile"),l(2,"mat-spinner"),o()())}function lt(t,i){if(t&1){let e=S();r(0,"div",3)(1,"mat-card",4)(2,"mat-card-header")(3,"mat-card-title"),n(4),o(),r(5,"mat-card-subtitle"),n(6),o()(),l(7,"img",5),M(8,"heroImage"),o(),r(9,"mat-card",4)(10,"mat-card-header")(11,"mat-card-title"),n(12," Informacion "),o(),r(13,"mat-card-subtitle"),n(14),o()(),r(15,"mat-card-content")(16,"mat-list")(17,"mat-list-item"),n(18),o(),r(19,"mat-list-item"),n(20),o(),r(21,"mat-list-item"),n(22),o(),r(23,"mat-list-item"),n(24),o()(),r(25,"button",6),h("click",function(){f(e);let c=x();return g(c.goBack())}),n(26," Regresar "),o()()()()}if(t&2){let e=x();a(4),s(" ",e.hero.alter_ego," "),a(2),s(" ",e.hero.superhero," "),a(),p("src",y(8,9,e.hero),N)("alt",e.hero.superhero),a(7),s(" ",e.hero.superhero," "),a(4),s(" ",e.hero.first_appearance," "),a(2),s(" ",e.hero.characters," "),a(2),s(" ",e.hero.publisher," "),a(2),s(" ",e.hero.alter_ego," ")}}var W=class t{constructor(i,e,m){this.heroService=i;this.activatedRoute=e;this.router=m}hero;ngOnInit(){this.activatedRoute.params.pipe(re(({id:i})=>this.heroService.getHeroById(i))).subscribe(i=>{if(!i)return this.router.navigate(["/heroes/list"]);this.hero=i})}goBack(){this.router.navigateByUrl("heroes/list")}static \u0275fac=function(e){return new(e||t)(C(I),C(ve),C(_e))};static \u0275cmp=d({type:t,selectors:[["app-hero-page"]],standalone:!1,decls:3,vars:2,consts:[["divLoading",""],["class","grid p-2",4,"ngIf","ngIfElse"],["cols","1"],[1,"grid","p-2"],[1,"col-12","sm:col-6"],["matCardImage","",3,"src","alt"],["mat-button","",3,"click"]],template:function(e,m){if(e&1&&u(0,st,3,0,"ng-template",null,0,ce)(2,lt,27,11,"div",1),e&2){let c=_(1);a(2),p("ngIf",m.hero)("ngIfElse",c)}},dependencies:[T,H,R,B,A,U,j,V,De,ke,Ve,z,je,P],encapsulation:2})};var ct=[{path:"",component:q,children:[{path:"new-hero",component:L},{path:"search",component:J},{path:"edit/:id",component:L},{path:"list",component:Q},{path:":id",component:W},{path:"**",redirectTo:"list"}]}],X=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=O({type:t});static \u0275inj=F({imports:[ee.forChild(ct),ee]})};var Qe=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=O({type:t});static \u0275inj=F({imports:[ge,X,ze,Ee]})};export{Qe as HeroesModule};
